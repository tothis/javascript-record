<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>encryption</title>
</head>
<body>
<script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>
<script src="https://cdn.bootcss.com/js-sha1/0.6.0/sha1.min.js"></script>
<script src="https://cdn.bootcss.com/crypto-js/3.1.9-1/crypto-js.min.js"></script>
<script>
    onload = () => {
        const plaintext = '!@#$%^&*()-_=+{[]}\\|;:\'",<.>/?a0â‹™ðŸ™ƒç£Š';
        let ciphertext;

        write('å¯†ç æ˜Žæ–‡ => ', plaintext);

        // btoaå’Œatobä¸èƒ½è½¬åŒ–Latin1èŒƒå›´ä¹‹å¤–çš„å­—ç¬¦ ä½¿ç”¨encodeURIComponentå’ŒdecodeURIComponentè§£å†³
        ciphertext = btoa(encodeURIComponent(plaintext));
        write("base64ç¼–ç  => ", ciphertext);
        write("base64è§£ç  => ", decodeURIComponent(atob(ciphertext)));
        // ç»æµ‹è¯•ä¸Žjava md5åŠ å¯†ç»“æžœä¸€è‡´
        write('md5åŠ å¯† => ', md5(plaintext));
        write('sha1åŠ å¯† => ', sha1(plaintext));

        let aseKey = '12345678' // ç§˜é’¥å¿…é¡»ä¸º 8/16/32ä½
        // åŠ å¯†
        ciphertext = aesEncrypt(plaintext, aseKey);
        write('aseåŠ å¯† => ', ciphertext);
        // è§£å¯†
        write('aseè§£å¯† => ', aesDecrypt(ciphertext, aseKey));

    }

    function aesEncrypt(plaintext, aseKey) {
        return CryptoJS.AES.encrypt(plaintext, CryptoJS.enc.Utf8.parse(aseKey), {
            mode: CryptoJS.mode.ECB,
            padding: CryptoJS.pad.Pkcs7
        });
    }

    function aesDecrypt(ciphertext, aseKey) {
        return CryptoJS.AES.decrypt(ciphertext, CryptoJS.enc.Utf8.parse(aseKey), {
            mode: CryptoJS.mode.ECB,
            padding: CryptoJS.pad.Pkcs7
        }).toString(CryptoJS.enc.Utf8);
    }

    const write = function () {
        document.write(Array.prototype.slice.call(arguments).join('') + '<br>');
    }
</script>
</body>
</html>
